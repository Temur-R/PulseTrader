{"ast":null,"code":"var _jsxFileName = \"/Users/zhuolin/PulseTrader-2/frontend/src/components/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Bell, Plus, TrendingUp } from 'lucide-react';\nimport { PulseTraderWebSocket } from '../services/websocket';\nimport { EnhancedStockCard } from './EnhancedStockCard';\nimport { auth } from '../services/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Dashboard = ({\n  api\n}) => {\n  _s();\n  const [stocks, setStocks] = useState([]);\n  const [trendingStocks, setTrendingStocks] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [notifications, setNotifications] = useState([]);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  // Helper function to safely format numbers\n  const formatNumber = (value, decimals = 2) => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return 'N/A';\n    }\n    return value.toFixed(decimals);\n  };\n  useEffect(() => {\n    const loadInitialData = async () => {\n      try {\n        const [watchlistData, notificationsData, trendingData] = await Promise.all([api.getWatchlist(), api.getNotifications(), api.getTrendingStocks()]);\n        // Ensure watchlist items have required properties\n        const validWatchlistData = watchlistData.map(item => ({\n          ...item,\n          targetPrice: item.targetPrice || item.price * 1.1,\n          alertType: item.alertType || 'above'\n        }));\n        setStocks(validWatchlistData);\n        setNotifications(notificationsData);\n        setTrendingStocks(trendingData);\n      } catch (error) {\n        console.error('Failed to load initial data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadInitialData();\n\n    // Setup WebSocket\n    const setupWebSocket = async () => {\n      try {\n        const user = auth.currentUser;\n        if (!user) {\n          console.error('No user found for WebSocket connection');\n          return null;\n        }\n        const token = await user.getIdToken();\n        const ws = new PulseTraderWebSocket(token, handleWebSocketMessage);\n        ws.connect();\n        return ws;\n      } catch (error) {\n        console.error('Failed to setup WebSocket:', error);\n        return null;\n      }\n    };\n    let ws = null;\n    setupWebSocket().then(websocket => {\n      if (websocket) {\n        ws = websocket;\n      }\n    });\n\n    // Refresh trending stocks every minute\n    const trendingInterval = setInterval(async () => {\n      try {\n        const trendingData = await api.getTrendingStocks();\n        setTrendingStocks(trendingData);\n      } catch (error) {\n        console.error('Failed to refresh trending stocks:', error);\n      }\n    }, 60000);\n    return () => {\n      if (ws) {\n        ws.disconnect();\n      }\n      clearInterval(trendingInterval);\n    };\n  }, []);\n  const handleWebSocketMessage = data => {\n    switch (data.type) {\n      case 'price_update':\n        if (data.symbol && data.price !== undefined && data.change !== undefined && data.changePercent !== undefined) {\n          setStocks(current => current.map(stock => stock.symbol === data.symbol ? {\n            ...stock,\n            price: data.price,\n            change: data.change,\n            changePercent: data.changePercent\n          } : stock));\n        }\n        break;\n      case 'notification':\n        if (data.notification) {\n          setNotifications(current => [data.notification, ...current]);\n        }\n        break;\n    }\n  };\n  const handleSearch = async query => {\n    if (!query.trim()) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      const results = await api.searchStocks(query);\n      setSearchResults(results);\n    } catch (error) {\n      console.error('Search failed:', error);\n    }\n  };\n  const addToWatchlist = async symbol => {\n    try {\n      console.log('Adding to watchlist:', symbol);\n      const stockData = await api.getStockData(symbol);\n      console.log('Stock data received:', stockData);\n      if (!stockData || !stockData.price) {\n        console.error('Invalid stock data received:', stockData);\n        return;\n      }\n\n      // Set default target price to 10% above current price\n      const targetPrice = stockData.price * 1.1;\n      // Set default alert type to 'above'\n      const alertType = 'above';\n      console.log('Calling addToWatchlist with:', {\n        symbol,\n        targetPrice,\n        alertType\n      });\n      await api.addToWatchlist(symbol, targetPrice, alertType);\n      console.log('Successfully added to watchlist, fetching updated watchlist');\n\n      // Fetch the updated watchlist\n      const watchlistData = await api.getWatchlist();\n      console.log('New watchlist data:', watchlistData);\n\n      // Convert YahooStockData to WatchlistItem\n      const validWatchlistData = watchlistData.map(item => ({\n        ...item,\n        targetPrice: item.targetPrice || item.price * 1.1,\n        alertType: item.alertType || 'above'\n      }));\n\n      // Update the local state with the new watchlist\n      setStocks(validWatchlistData);\n\n      // Clear the search\n      setSearchResults([]);\n      setSearchQuery('');\n\n      // Show success message (you can add a toast notification here if you want)\n      console.log('Successfully added', symbol, 'to watchlist');\n    } catch (error) {\n      console.error('Failed to add stock:', error);\n      if (error instanceof Error) {\n        console.error('Error details:', error.message);\n      }\n    }\n  };\n  const removeFromWatchlist = async symbol => {\n    try {\n      console.log('Removing from watchlist:', symbol);\n      await api.removeFromWatchlist(symbol);\n      console.log('Successfully removed from watchlist');\n      setStocks(current => current.filter(stock => stock.symbol !== symbol));\n    } catch (error) {\n      console.error('Failed to remove stock:', error);\n      if (error instanceof Error) {\n        console.error('Error details:', error.message);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-6 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex-1 max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchQuery,\n            onChange: e => {\n              setSearchQuery(e.target.value);\n              handleSearch(e.target.value);\n            },\n            placeholder: \"Search stocks...\",\n            className: \"w-full bg-slate-800/50 border border-cyan-500/20 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500/40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), searchResults.length > 0 && searchQuery.trim() !== '' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-full left-0 right-0 mt-2 bg-slate-800 border border-cyan-500/20 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto\",\n            children: searchResults.map(result => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                addToWatchlist(result.symbol);\n                // Clear search after adding to watchlist\n                setSearchQuery('');\n                setSearchResults([]);\n              },\n              className: \"w-full px-3 py-2 text-left hover:bg-slate-700/50 text-white text-sm transition-colors duration-150 ease-in-out flex flex-col gap-0.5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold truncate\",\n                children: result.symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-400 truncate\",\n                children: result.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: result.change >= 0 ? 'text-green-400' : 'text-red-400',\n                  children: [\"$\", formatNumber(result.price), \" (\", formatNumber(result.changePercent), \"%)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this)]\n            }, result.symbol, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4 ml-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowNotifications(!showNotifications),\n              className: \"relative text-gray-300 hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Bell, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\",\n                children: notifications.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), showNotifications && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-full right-0 mt-2 w-80 bg-slate-800 border border-cyan-500/20 rounded-lg shadow-lg z-50\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-white font-semibold mb-2\",\n                  children: \"Notifications\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-400\",\n                  children: \"No notifications\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 hover:bg-slate-700/50 rounded\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-white\",\n                      children: notification.message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-400\",\n                      children: new Date(notification.timestamp).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 29\n                    }, this)]\n                  }, notification.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"w-5 h-5 text-cyan-400 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-white\",\n            children: \"Trending Stocks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n          children: trendingStocks.map(stock => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-slate-800/50 backdrop-blur-sm border border-cyan-500/20 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-white\",\n                  children: stock.symbol\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-400\",\n                  children: stock.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => addToWatchlist(stock.symbol),\n                className: \"p-1 text-cyan-400 hover:text-cyan-300\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white\",\n                children: [\"$\", formatNumber(stock.price)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: (stock.change || 0) >= 0 ? 'text-green-400' : 'text-red-400',\n                children: [(stock.changePercent || 0) >= 0 ? '+' : '', formatNumber(stock.changePercent), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, stock.symbol, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-white mb-4\",\n          children: \"Your Watchlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-full text-center py-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-cyan-400 text-xl\",\n              children: \"Loading your watchlist...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this) : stocks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-full bg-slate-800/50 backdrop-blur-sm border border-cyan-500/20 rounded-xl p-8 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center mx-auto mb-4\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                className: \"w-8 h-8 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-white mb-2\",\n              children: \"Your watchlist is empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 mb-4\",\n              children: \"Start by searching for stocks to add to your watchlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this) : stocks.map(stock => /*#__PURE__*/_jsxDEV(EnhancedStockCard, {\n            stock: stock,\n            onRemove: removeFromWatchlist,\n            api: api\n          }, stock.symbol, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"6h8kmjWOPF7ne7AKV4rC/jHVF8o=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Bell","Plus","TrendingUp","PulseTraderWebSocket","EnhancedStockCard","auth","jsxDEV","_jsxDEV","Dashboard","api","_s","stocks","setStocks","trendingStocks","setTrendingStocks","searchQuery","setSearchQuery","searchResults","setSearchResults","notifications","setNotifications","showNotifications","setShowNotifications","loading","setLoading","formatNumber","value","decimals","undefined","isNaN","toFixed","loadInitialData","watchlistData","notificationsData","trendingData","Promise","all","getWatchlist","getNotifications","getTrendingStocks","validWatchlistData","map","item","targetPrice","price","alertType","error","console","setupWebSocket","user","currentUser","token","getIdToken","ws","handleWebSocketMessage","connect","then","websocket","trendingInterval","setInterval","disconnect","clearInterval","data","type","symbol","change","changePercent","current","stock","notification","handleSearch","query","trim","results","searchStocks","addToWatchlist","log","stockData","getStockData","Error","message","removeFromWatchlist","filter","className","children","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","length","result","onClick","name","Date","timestamp","toLocaleString","id","onRemove","_c","$RefreshReg$"],"sources":["/Users/zhuolin/PulseTrader-2/frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Bell, Plus, TrendingUp, Settings } from 'lucide-react';\nimport { Stock, WatchlistItem, Notification, WebSocketMessage } from '../types';\nimport { PulseTraderAPI, YahooStockData } from '../services/api';\nimport { PulseTraderWebSocket } from '../services/websocket';\nimport { EnhancedStockCard } from './EnhancedStockCard';\nimport { auth } from '../services/firebase';\n\ninterface DashboardProps {\n  api: PulseTraderAPI;\n}\n\nexport const Dashboard: React.FC<DashboardProps> = ({ api }) => {\n  const [stocks, setStocks] = useState<WatchlistItem[]>([]);\n  const [trendingStocks, setTrendingStocks] = useState<Stock[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<YahooStockData[]>([]);\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  // Helper function to safely format numbers\n  const formatNumber = (value: number | undefined, decimals: number = 2): string => {\n    if (value === undefined || value === null || isNaN(value)) {\n      return 'N/A';\n    }\n    return value.toFixed(decimals);\n  };\n\n  useEffect(() => {\n    const loadInitialData = async () => {\n      try {\n        const [watchlistData, notificationsData, trendingData] = await Promise.all([\n          api.getWatchlist(),\n          api.getNotifications(),\n          api.getTrendingStocks()\n        ]);\n        // Ensure watchlist items have required properties\n        const validWatchlistData = watchlistData.map(item => ({\n          ...item,\n          targetPrice: item.targetPrice || item.price * 1.1,\n          alertType: item.alertType || 'above'\n        })) as WatchlistItem[];\n        setStocks(validWatchlistData);\n        setNotifications(notificationsData);\n        setTrendingStocks(trendingData);\n      } catch (error) {\n        console.error('Failed to load initial data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadInitialData();\n\n    // Setup WebSocket\n    const setupWebSocket = async () => {\n      try {\n        const user = auth.currentUser;\n        if (!user) {\n          console.error('No user found for WebSocket connection');\n          return null;\n        }\n        const token = await user.getIdToken();\n        const ws = new PulseTraderWebSocket(token, handleWebSocketMessage);\n        ws.connect();\n        return ws;\n      } catch (error) {\n        console.error('Failed to setup WebSocket:', error);\n        return null;\n      }\n    };\n\n    let ws: PulseTraderWebSocket | null = null;\n    setupWebSocket().then(websocket => {\n      if (websocket) {\n        ws = websocket;\n      }\n    });\n\n    // Refresh trending stocks every minute\n    const trendingInterval = setInterval(async () => {\n      try {\n        const trendingData = await api.getTrendingStocks();\n        setTrendingStocks(trendingData);\n      } catch (error) {\n        console.error('Failed to refresh trending stocks:', error);\n      }\n    }, 60000);\n\n    return () => {\n      if (ws) {\n        ws.disconnect();\n      }\n      clearInterval(trendingInterval);\n    };\n  }, []);\n\n  const handleWebSocketMessage = (data: WebSocketMessage) => {\n    switch (data.type) {\n      case 'price_update':\n        if (data.symbol && data.price !== undefined && data.change !== undefined && data.changePercent !== undefined) {\n          setStocks(current =>\n            current.map(stock =>\n              stock.symbol === data.symbol\n                ? { ...stock, price: data.price!, change: data.change!, changePercent: data.changePercent! }\n                : stock\n            )\n          );\n        }\n        break;\n      case 'notification':\n        if (data.notification) {\n          setNotifications(current => [data.notification!, ...current]);\n        }\n        break;\n    }\n  };\n\n  const handleSearch = async (query: string) => {\n    if (!query.trim()) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      const results = await api.searchStocks(query);\n      setSearchResults(results);\n    } catch (error) {\n      console.error('Search failed:', error);\n    }\n  };\n\n  const addToWatchlist = async (symbol: string) => {\n    try {\n      console.log('Adding to watchlist:', symbol);\n      const stockData = await api.getStockData(symbol);\n      console.log('Stock data received:', stockData);\n      \n      if (!stockData || !stockData.price) {\n        console.error('Invalid stock data received:', stockData);\n        return;\n      }\n\n      // Set default target price to 10% above current price\n      const targetPrice = stockData.price * 1.1;\n      // Set default alert type to 'above'\n      const alertType = 'above';\n      \n      console.log('Calling addToWatchlist with:', { symbol, targetPrice, alertType });\n      await api.addToWatchlist(symbol, targetPrice, alertType);\n      console.log('Successfully added to watchlist, fetching updated watchlist');\n      \n      // Fetch the updated watchlist\n      const watchlistData = await api.getWatchlist();\n      console.log('New watchlist data:', watchlistData);\n      \n      // Convert YahooStockData to WatchlistItem\n      const validWatchlistData = watchlistData.map(item => ({\n        ...item,\n        targetPrice: item.targetPrice || item.price * 1.1,\n        alertType: item.alertType || 'above'\n      })) as WatchlistItem[];\n      \n      // Update the local state with the new watchlist\n      setStocks(validWatchlistData);\n      \n      // Clear the search\n      setSearchResults([]);\n      setSearchQuery('');\n      \n      // Show success message (you can add a toast notification here if you want)\n      console.log('Successfully added', symbol, 'to watchlist');\n    } catch (error) {\n      console.error('Failed to add stock:', error);\n      if (error instanceof Error) {\n        console.error('Error details:', error.message);\n      }\n    }\n  };\n\n  const removeFromWatchlist = async (symbol: string) => {\n    try {\n      console.log('Removing from watchlist:', symbol);\n      await api.removeFromWatchlist(symbol);\n      console.log('Successfully removed from watchlist');\n      setStocks(current => current.filter(stock => stock.symbol !== symbol));\n    } catch (error) {\n      console.error('Failed to remove stock:', error);\n      if (error instanceof Error) {\n        console.error('Error details:', error.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-900\">\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Search and Controls */}\n        <div className=\"mb-8 flex items-center justify-between\">\n          <div className=\"relative flex-1 max-w-md\">\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => {\n                setSearchQuery(e.target.value);\n                handleSearch(e.target.value);\n              }}\n              placeholder=\"Search stocks...\"\n              className=\"w-full bg-slate-800/50 border border-cyan-500/20 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-cyan-500/40\"\n            />\n            \n            {searchResults.length > 0 && searchQuery.trim() !== '' && (\n              <div className=\"absolute top-full left-0 right-0 mt-2 bg-slate-800 border border-cyan-500/20 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto\">\n                {searchResults.map(result => (\n                  <button\n                    key={result.symbol}\n                    onClick={() => {\n                      addToWatchlist(result.symbol);\n                      // Clear search after adding to watchlist\n                      setSearchQuery('');\n                      setSearchResults([]);\n                    }}\n                    className=\"w-full px-3 py-2 text-left hover:bg-slate-700/50 text-white text-sm transition-colors duration-150 ease-in-out flex flex-col gap-0.5\"\n                  >\n                    <div className=\"font-semibold truncate\">{result.symbol}</div>\n                    <div className=\"text-xs text-gray-400 truncate\">{result.name}</div>\n                    <div className=\"text-xs\">\n                      <span className={result.change >= 0 ? 'text-green-400' : 'text-red-400'}>\n                        ${formatNumber(result.price)} ({formatNumber(result.changePercent)}%)\n                      </span>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex items-center space-x-4 ml-4\">\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowNotifications(!showNotifications)}\n                className=\"relative text-gray-300 hover:text-white transition-colors\"\n              >\n                <Bell className=\"w-6 h-6\" />\n                {notifications.length > 0 && (\n                  <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\n                    {notifications.length}\n                  </span>\n                )}\n              </button>\n\n              {showNotifications && (\n                <div className=\"absolute top-full right-0 mt-2 w-80 bg-slate-800 border border-cyan-500/20 rounded-lg shadow-lg z-50\">\n                  <div className=\"p-4\">\n                    <h3 className=\"text-white font-semibold mb-2\">Notifications</h3>\n                    {notifications.length === 0 ? (\n                      <p className=\"text-gray-400\">No notifications</p>\n                    ) : (\n                      <div className=\"space-y-2\">\n                        {notifications.map(notification => (\n                          <div\n                            key={notification.id}\n                            className=\"p-2 hover:bg-slate-700/50 rounded\"\n                          >\n                            <p className=\"text-white\">{notification.message}</p>\n                            <p className=\"text-sm text-gray-400\">\n                              {new Date(notification.timestamp).toLocaleString()}\n                            </p>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Trending Stocks */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center mb-4\">\n            <TrendingUp className=\"w-5 h-5 text-cyan-400 mr-2\" />\n            <h2 className=\"text-xl font-semibold text-white\">Trending Stocks</h2>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            {trendingStocks.map(stock => (\n              <div\n                key={stock.symbol}\n                className=\"bg-slate-800/50 backdrop-blur-sm border border-cyan-500/20 rounded-lg p-4\"\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div>\n                    <h3 className=\"font-semibold text-white\">{stock.symbol}</h3>\n                    <p className=\"text-sm text-gray-400\">{stock.name}</p>\n                  </div>\n                  <button\n                    onClick={() => addToWatchlist(stock.symbol)}\n                    className=\"p-1 text-cyan-400 hover:text-cyan-300\"\n                  >\n                    <Plus className=\"w-5 h-5\" />\n                  </button>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-white\">${formatNumber(stock.price)}</span>\n                  <span\n                    className={\n                      (stock.change || 0) >= 0 ? 'text-green-400' : 'text-red-400'\n                    }\n                  >\n                    {(stock.changePercent || 0) >= 0 ? '+' : ''}\n                    {formatNumber(stock.changePercent)}%\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Watchlist */}\n        <div className=\"mb-4\">\n          <h2 className=\"text-xl font-semibold text-white mb-4\">Your Watchlist</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {loading ? (\n              <div className=\"col-span-full text-center py-12\">\n                <div className=\"text-cyan-400 text-xl\">Loading your watchlist...</div>\n              </div>\n            ) : stocks.length === 0 ? (\n              <div className=\"col-span-full bg-slate-800/50 backdrop-blur-sm border border-cyan-500/20 rounded-xl p-8 text-center\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center mx-auto mb-4\">\n                  <Plus className=\"w-8 h-8 text-white\" />\n                </div>\n                <h3 className=\"text-xl font-semibold text-white mb-2\">Your watchlist is empty</h3>\n                <p className=\"text-gray-400 mb-4\">\n                  Start by searching for stocks to add to your watchlist\n                </p>\n              </div>\n            ) : (\n              stocks.map(stock => (\n                <EnhancedStockCard\n                  key={stock.symbol}\n                  stock={stock}\n                  onRemove={removeFromWatchlist}\n                  api={api}\n                />\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}